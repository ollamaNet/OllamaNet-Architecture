@startuml
!theme plain
skinparam node {
    BackgroundColor #EEEEEE
    BorderColor #666666
}

cloud "Kubernetes Cluster" {
    node "Service Pods" {
        [API Gateway] as gateway
        [Auth Service] as auth
        [Chat Service] as chat
        [Explore Service] as explore
        [Admin Service] as admin
        [LLM Inference Service] as llm
    }
    
    node "Infrastructure" {
        [Service Registry] as registry
        [Config Server] as config
        [Message Queue] as mq
        [Monitoring] as monitor
        [Distributed Cache] as cache
    }
    
    node "Database" {
        [Shared Database] as db
    }
}

cloud "External Services" {
    [External APIs] as external
}

gateway --> auth
gateway --> chat
gateway --> explore
gateway --> admin

registry --> gateway
registry --> auth
registry --> chat
registry --> explore
registry --> admin
registry --> llm

mq --> admin
mq --> llm

monitor --> gateway
monitor --> auth
monitor --> chat
monitor --> explore
monitor --> admin
monitor --> llm

cache --> chat
cache --> explore
cache --> auth

chat --> llm
explore --> llm
admin --> llm

auth --> db
chat --> db
explore --> db
admin --> db
llm --> db

@enduml
